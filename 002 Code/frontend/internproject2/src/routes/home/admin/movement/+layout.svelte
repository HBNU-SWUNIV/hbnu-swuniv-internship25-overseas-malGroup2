<script>
  import { user } from '$lib/stores/user';
  import { goto } from '$app/navigation';

  function logout() {
    user.set(null);
    goto('/login', { replaceState: true });
  }
</script>

<!-- ë‚¨ê¸¸ ìƒë‹¨ë°” -->
<header class="topbar">
  <h1 class="logo">YELLOW SOCKS</h1>
  <div class="spacer"></div>
  <div class="user-box">
    <span class="username">{$user?.id ?? 'user name'}</span>
    <span class="avatar" aria-hidden="true">ğŸ‘¤</span>
    <button class="logout-top" on:click={logout}>logout</button>
  </div>
</header>

<slot />

<style>
  :global(html), :global(body){
    margin:0;
    font-family:system-ui, -apple-system, Segoe UI, Roboto, sans-serif;
    background:#efe9da;
  }

  /* í˜¹ì‹œ ë‚¨ì•„ìˆë‹¤ë©´ ì¤‘ì•™ í° íƒ€ì´í‹€ ë°”(utilitybar) ìˆ¨ê¹€ */
  :global(.utilitybar){ display:none !important; }

  /* âœ… ì¶”ê°€: ì²« ë²ˆì§¸ .topbarë§Œ ë³´ì´ê³ , ê·¸ ì•„ë˜ ë“±ì¥í•˜ëŠ” .topbarëŠ” ì „ë¶€ ìˆ¨ê¹€ */
  :global(.topbar ~ .topbar){ display:none !important; }

  .topbar{
    display:grid;
    grid-template-columns: auto 1fr auto;
    align-items:center;
    padding:16px 20px;
    background:#fff;
    border-bottom:1px solid #e6dfcf;
  }
  .logo{
    margin:0; font-size:28px; font-weight:900; letter-spacing:.4px;
    color:#e1b81f;
  }
  .spacer{ min-width:12px; }
  .user-box{ display:flex; align-items:center; gap:10px; color:#8b7425; }
  .username{ font-weight:700; }
  .avatar{ font-size:18px; }
  .logout-top{
    border:none; background:transparent; color:#8b7425; cursor:pointer; font-weight:700;
  }
</style>
